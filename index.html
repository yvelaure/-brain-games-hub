<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Brain Games Hub - Train your cognitive abilities with 4 engaging brain training games featuring themes, achievements, and progress tracking.">
<meta name="theme-color" content="#667eea">
<link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiQnJhaW4gR2FtZXMgSHViIiwic2hvcnRfbmFtZSI6IkJyYWluIEdhbWVzIiwic3RhcnRfdXJsIjoiLyIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwidGhlbWVfY29sb3IiOiIjNjY3ZWVhIiwiYmFja2dyb3VuZF9jb2xvciI6IiM2NjdlZWEiLCJpY29ucyI6W3sic3JjIjoiaWNvbi0xOTJ4MTkyLnBuZyIsInNpemVzIjoiMTkyeDE5MiIsInR5cGUiOiJpbWFnZS9wbmcifV19">
<title>Brain Games Hub - Cognitive Training Platform</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',Arial,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;color:white;overflow-x:hidden}
.container{max-width:400px;margin:0 auto;padding:20px;text-align:center;position:relative}
h1{font-size:2.5em;margin-bottom:10px;text-shadow:2px 2px 4px rgba(0,0,0,0.3);animation:pulse 2s infinite}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
.subtitle{font-size:1.1em;margin-bottom:30px;opacity:0.9}
.install-banner{background:rgba(255,255,255,0.1);border-radius:10px;padding:15px;margin-bottom:20px;border:1px solid rgba(255,255,255,0.2);display:none}
.install-btn{background:linear-gradient(45deg,#28a745,#20c997);color:white;border:none;padding:10px 20px;border-radius:20px;font-weight:bold;cursor:pointer;font-size:0.9em;margin:5px}
.theme-toggle{position:absolute;top:20px;right:20px;background:rgba(255,255,255,0.2);border:none;border-radius:50%;width:40px;height:40px;color:white;cursor:pointer;font-size:1.2em;transition:all 0.3s ease}
.theme-toggle:hover{background:rgba(255,255,255,0.3);transform:scale(1.1)}
.game-card{background:rgba(255,255,255,0.15);backdrop-filter:blur(10px);border-radius:20px;padding:25px;margin:15px 0;cursor:pointer;border:1px solid rgba(255,255,255,0.2);transition:all 0.3s cubic-bezier(0.4,0,0.2,1);position:relative;overflow:hidden}
.game-card::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.2),transparent);transition:left 0.5s;z-index:1}
.game-card:hover::before{left:100%}
.game-card:hover{transform:translateY(-8px) scale(1.02);background:rgba(255,255,255,0.25);box-shadow:0 15px 40px rgba(0,0,0,0.3)}
.game-title{font-size:1.4em;font-weight:bold;margin-bottom:8px;position:relative;z-index:2}
.game-description{font-size:0.95em;opacity:0.9;position:relative;z-index:2}
.play-btn{background:linear-gradient(45deg,#ff6b6b,#ff8e53);color:white;border:none;padding:14px 28px;border-radius:30px;font-weight:bold;margin:15px 5px;cursor:pointer;font-size:1em;transition:all 0.3s ease;box-shadow:0 4px 15px rgba(255,107,107,0.3)}
.play-btn:hover{transform:scale(1.08);box-shadow:0 6px 25px rgba(255,107,107,0.5)}
.play-btn:active{transform:scale(0.95)}
.stats{background:rgba(255,255,255,0.1);border-radius:15px;padding:20px;margin-top:25px;backdrop-filter:blur(10px)}
.stat-item{display:flex;justify-content:space-between;margin:10px 0;padding:5px 0;border-bottom:1px solid rgba(255,255,255,0.1)}
.stat-item:last-child{border-bottom:none}
.game-area{display:none;background:rgba(255,255,255,0.95);color:#333;border-radius:20px;padding:25px;margin:20px 0;backdrop-filter:blur(15px);animation:slideIn 0.5s ease}
@keyframes slideIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.back-btn{background:#6c757d;color:white;border:none;padding:10px 20px;border-radius:25px;cursor:pointer;margin-bottom:20px;transition:all 0.3s ease}
.back-btn:hover{background:#5a6268;transform:scale(1.05)}
.sequence-item{width:65px;height:65px;border-radius:15px;display:inline-block;margin:8px;text-align:center;line-height:65px;font-weight:bold;cursor:pointer;transition:all 0.3s cubic-bezier(0.4,0,0.2,1);box-shadow:0 4px 10px rgba(0,0,0,0.2)}
.blue{background:linear-gradient(135deg,#3498db,#2980b9)}
.red{background:linear-gradient(135deg,#e74c3c,#c0392b)}
.green{background:linear-gradient(135deg,#2ecc71,#27ae60)}
.yellow{background:linear-gradient(135deg,#f1c40f,#f39c12);color:#333}
.sequence-item:hover{transform:scale(1.15) rotate(5deg);box-shadow:0 8px 20px rgba(0,0,0,0.3)}
.sequence-item.clicked{animation:clickPulse 0.3s ease}
@keyframes clickPulse{0%{transform:scale(1)}50%{transform:scale(1.2)}100%{transform:scale(1)}}
.math-input{font-size:1.6em;padding:12px;border:3px solid #ddd;border-radius:15px;text-align:center;width:140px;margin:10px;transition:all 0.3s ease}
.math-input:focus{border-color:#667eea;box-shadow:0 0 15px rgba(102,126,234,0.3);outline:none}
.reaction-circle{width:160px;height:160px;border-radius:50%;margin:30px auto;display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer;transition:all 0.3s ease;box-shadow:0 8px 25px rgba(0,0,0,0.2)}
.waiting{background:linear-gradient(135deg,#e74c3c,#c0392b)}
.ready{background:linear-gradient(135deg,#2ecc71,#27ae60);animation:readyPulse 0.5s ease}
@keyframes readyPulse{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}
.score-display{font-size:1.3em;margin:20px 0;padding:15px;background:rgba(102,126,234,0.1);border-radius:10px;font-weight:bold}
.achievement{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(45deg,#ff6b6b,#ff8e53);color:white;padding:20px;border-radius:15px;font-weight:bold;z-index:1000;animation:achievementPop 3s ease forwards;display:none}
@keyframes achievementPop{0%{opacity:0;transform:translate(-50%,-50%) scale(0.5)}20%{opacity:1;transform:translate(-50%,-50%) scale(1.1)}80%{opacity:1;transform:translate(-50%,-50%) scale(1)}100%{opacity:0;transform:translate(-50%,-50%) scale(0.8)}}
.cyber{background:linear-gradient(135deg,#0f3460,#e94560)}
.neon{background:linear-gradient(135deg,#ff006e,#8338ec)}
.candy{background:linear-gradient(135deg,#ff9a9e,#fecfef)}
.footer{margin-top:40px;font-size:0.9em;opacity:0.7}
</style>
</head>
<body>
<div class="container">
<div id="install-banner" class="install-banner">
<div>Install Brain Games Hub as an app!</div>
<button id="install-btn" class="install-btn">Install App</button>
<button onclick="hideInstallBanner()" class="install-btn" style="background:#6c757d">Maybe Later</button>
</div>
<button class="theme-toggle" onclick="cycleTheme()" title="Change Theme">üé®</button>
<div id="main-menu">
<h1>üß† Brain Games Hub</h1>
<p class="subtitle">Level up your cognitive abilities with style</p>
<div class="game-card" onclick="startGame('memory')">
<div class="game-title">üéØ Memory Master</div>
<div class="game-description">Remember sequences like a pro</div>
<button class="play-btn">Play Now</button>
</div>
<div class="game-card" onclick="startGame('math')">
<div class="game-title">üî¢ Math Challenge</div>
<div class="game-description">Quick calculations, maximum points</div>
<button class="play-btn">Play Now</button>
</div>
<div class="game-card" onclick="startGame('reaction')">
<div class="game-title">‚ö° Reaction Master</div>
<div class="game-description">Lightning-fast reflexes test</div>
<button class="play-btn">Play Now</button>
</div>
<div class="game-card" onclick="startGame('pattern')">
<div class="game-title">üß© Pattern Genius</div>
<div class="game-description">Crack the code, find the pattern</div>
<button class="play-btn">Play Now</button>
</div>
<div class="stats">
<div class="stat-item"><span>üéÆ Games Played:</span><span id="total-games">0</span></div>
<div class="stat-item"><span>üèÜ Best Score:</span><span id="best-score">0</span></div>
<div class="stat-item"><span>üß† IQ Estimate:</span><span id="current-iq">100</span></div>
<div class="stat-item"><span>üî• Streak:</span><span id="streak">0</span></div>
<div class="stat-item"><span>üéñÔ∏è Badges:</span><span id="badges">0</span></div>
</div>
<div class="footer">Brain Games Hub - PWA Ready</div>
</div>
<div id="memory-game" class="game-area">
<button class="back-btn" onclick="showMainMenu()">‚Üê Back to Hub</button>
<h2>üéØ Memory Master</h2>
<div class="score-display">Score: <span id="memory-score">0</span> | Level: <span id="memory-level">1</span> | Streak: <span id="memory-streak">0</span></div>
<div id="memory-sequence" style="margin:25px 0"></div>
<div id="memory-status">Watch the sequence carefully!</div>
<button class="play-btn" onclick="startMemoryRound()">Start Round</button>
</div>
<div id="math-game" class="game-area">
<button class="back-btn" onclick="showMainMenu()">‚Üê Back to Hub</button>
<h2>üî¢ Math Challenge</h2>
<div class="score-display">Score: <span id="math-score">0</span> | Time: <span id="math-timer">30</span>s | Combo: <span id="math-combo">0</span></div>
<div id="math-problem" style="font-size:2.2em;margin:25px 0;font-weight:bold">5 + 3 = ?</div>
<input type="number" id="math-answer" class="math-input" placeholder="?" onkeypress="if(event.key==='Enter')checkMathAnswer()">
<button class="play-btn" onclick="checkMathAnswer()">Submit</button>
<button class="play-btn" onclick="startMathGame()">Start Challenge</button>
</div>
<div id="reaction-game" class="game-area">
<button class="back-btn" onclick="showMainMenu()">‚Üê Back to Hub</button>
<h2>‚ö° Reaction Master</h2>
<div class="score-display">Best: <span id="reaction-best">‚àû</span>ms | Attempts: <span id="reaction-attempts">0</span></div>
<div id="reaction-circle" class="reaction-circle waiting" onclick="handleReactionClick()">Wait for GREEN</div>
<div id="reaction-status">Click when the circle turns green!</div>
<button class="play-btn" onclick="startReactionTest()">Start Test</button>
</div>
<div id="pattern-game" class="game-area">
<button class="back-btn" onclick="showMainMenu()">‚Üê Back to Hub</button>
<h2>üß© Pattern Genius</h2>
<div class="score-display">Score: <span id="pattern-score">0</span> | Level: <span id="pattern-level">1</span></div>
<div style="margin:25px 0">
<div class="sequence-item blue">1</div>
<div class="sequence-item red">2</div>
<div class="sequence-item green">3</div>
<div class="sequence-item yellow">?</div>
</div>
<div style="margin:20px 0">What comes next in the sequence?</div>
<button class="play-btn" onclick="checkPattern(4)">4</button>
<button class="play-btn" onclick="checkPattern(5)">5</button>
<button class="play-btn" onclick="checkPattern(1)">1</button>
</div>
</div>
<div id="achievement-popup" class="achievement"></div>
<script>
// PWA Installation
let deferredPrompt;
window.addEventListener('beforeinstallprompt', (e) => {
e.preventDefault();
deferredPrompt = e;
document.getElementById('install-banner').style.display = 'block';
});

document.getElementById('install-btn').addEventListener('click', () => {
if (deferredPrompt) {
deferredPrompt.prompt();
deferredPrompt.userChoice.then((choiceResult) => {
if (choiceResult.outcome === 'accepted') {
hideInstallBanner();
}
deferredPrompt = null;
});
}
});

function hideInstallBanner() {
document.getElementById('install-banner').style.display = 'none';
localStorage.setItem('installBannerHidden', 'true');
}

if (localStorage.getItem('installBannerHidden')) {
document.getElementById('install-banner').style.display = 'none';
}

// Service Worker Registration
if ('serviceWorker' in navigator) {
window.addEventListener('load', () => {
const swScript = `
self.addEventListener('install', event => {
event.waitUntil(
caches.open('brain-games-v1').then(cache => {
return cache.addAll(['/']);
})
);
});
self.addEventListener('fetch', event => {
event.respondWith(
caches.match(event.request).then(response => {
return response || fetch(event.request);
})
);
});
`;
const blob = new Blob([swScript], { type: 'application/javascript' });
const swUrl = URL.createObjectURL(blob);
navigator.serviceWorker.register(swUrl);
});
}

// Game Logic (same as before)
let gameStats=JSON.parse(localStorage.getItem('brainGamesStats'))||{totalGames:0,bestScore:0,currentIQ:100,streak:0,badges:0};
let memorySequence=[],userSequence=[],memoryLevel=1,memoryScore=0,memoryStreak=0;
let mathScore=0,mathTimer=30,mathCombo=0,currentMathProblem={};
let reactionStartTime=0,reactionBest=Infinity,reactionAttempts=0;
let patternScore=0,patternLevel=1;
let currentTheme=parseInt(localStorage.getItem('brainGamesTheme'))||0;
const themes=['','cyber','neon','candy'];
const achievements=['Brain Rookie','Memory Maven','Math Wizard','Reflex Royalty','Pattern Pro','Streak Master','IQ Elite'];
let unlockedAchievements=JSON.parse(localStorage.getItem('brainGamesAchievements'))||[];

function saveData(){
localStorage.setItem('brainGamesStats',JSON.stringify(gameStats));
localStorage.setItem('brainGamesAchievements',JSON.stringify(unlockedAchievements));
localStorage.setItem('brainGamesTheme',currentTheme.toString());
}

function showAchievement(title){
if(unlockedAchievements.includes(title))return;
unlockedAchievements.push(title);
gameStats.badges++;
const popup=document.getElementById('achievement-popup');
popup.textContent=`üéñÔ∏è Achievement Unlocked: ${title}!`;
popup.style.display='block';
setTimeout(()=>popup.style.display='none',3000);
playSound('achievement');
saveData();
}

function playSound(type){
try{
const ctx=new(window.AudioContext||window.webkitAudioContext)();
let freq=440;
if(type==='click')freq=800;
if(type==='success')freq=660;
if(type==='achievement')freq=880;
const osc=ctx.createOscillator();
const gain=ctx.createGain();
osc.connect(gain);
gain.connect(ctx.destination);
osc.frequency.value=freq;
gain.gain.setValueAtTime(0.1,ctx.currentTime);
gain.gain.exponentialRampToValueAtTime(0.01,ctx.currentTime+0.3);
osc.start();
osc.stop(ctx.currentTime+0.3);
}catch(e){console.log('Audio not available');}
}

function cycleTheme(){
currentTheme=(currentTheme+1)%themes.length;
document.body.className=themes[currentTheme];
playSound('click');
saveData();
}

function showMainMenu(){
document.querySelectorAll('.game-area').forEach(area=>area.style.display='none');
document.getElementById('main-menu').style.display='block';
updateStats();
}

function startGame(gameType){
document.getElementById('main-menu').style.display='none';
document.getElementById(gameType+'-game').style.display='block';
playSound('click');
}

function updateStats(){
document.getElementById('total-games').textContent=gameStats.totalGames;
document.getElementById('best-score').textContent=gameStats.bestScore;
document.getElementById('current-iq').textContent=Math.floor(gameStats.currentIQ);
document.getElementById('streak').textContent=gameStats.streak;
document.getElementById('badges').textContent=gameStats.badges;
}

function startMemoryRound(){
memorySequence=[];
userSequence=[];
const colors=['blue','red','green','yellow'];
for(let i=0;i<memoryLevel+2;i++){
memorySequence.push(colors[Math.floor(Math.random()*colors.length)]);
}
showMemorySequence();
playSound('click');
}

function showMemorySequence(){
const display=document.getElementById('memory-sequence');
display.innerHTML='';
document.getElementById('memory-status').textContent='Watch carefully!';
memorySequence.forEach((color,index)=>{
setTimeout(()=>{
const item=document.createElement('div');
item.className='sequence-item '+color;
item.textContent=index+1;
item.onclick=()=>addToUserSequence(color);
display.appendChild(item);
playSound('click');
if(index===memorySequence.length-1){
setTimeout(()=>{
document.getElementById('memory-status').textContent='Now repeat the sequence!';
},1000);
}
},index*900);
});
}

function addToUserSequence(color){
userSequence.push(color);
document.querySelector('.sequence-item.'+color).classList.add('clicked');
playSound('click');
if(userSequence.length===memorySequence.length){
setTimeout(checkMemorySequence,500);
}
}

function checkMemorySequence(){
const correct=userSequence.every((color,index)=>color===memorySequence[index]);
if(correct){
memoryScore+=memoryLevel*15;
memoryStreak++;
memoryLevel++;
gameStats.streak++;
document.getElementById('memory-score').textContent=memoryScore;
document.getElementById('memory-level').textContent=memoryLevel;
document.getElementById('memory-streak').textContent=memoryStreak;
document.getElementById('memory-status').textContent='Perfect! Next level incoming...';
playSound('success');
if(memoryScore>gameStats.bestScore){
gameStats.bestScore=memoryScore;
gameStats.currentIQ+=3;
}
if(memoryStreak>=5)showAchievement('Memory Maven');
if(memoryLevel>=10)showAchievement('Memory Master');
saveData();
setTimeout(startMemoryRound,2500);
}else{
document.getElementById('memory-status').textContent='Oops! Sequence broken. Try again!';
gameStats.totalGames++;
gameStats.streak=0;
memoryStreak=0;
if(gameStats.totalGames===1)showAchievement('Brain Rookie');
saveData();
setTimeout(()=>{
memoryLevel=1;
memoryScore=0;
document.getElementById('memory-score').textContent='0';
document.getElementById('memory-level').textContent='1';
document.getElementById('memory-streak').textContent='0';
document.getElementById('memory-sequence').innerHTML='';
document.getElementById('memory-status').textContent='Ready for next challenge!';
},3000);
}
}

let mathInterval;
function startMathGame(){
mathScore=0;
mathTimer=30;
mathCombo=0;
document.getElementById('math-score').textContent=mathScore;
document.getElementById('math-combo').textContent=mathCombo;
generateMathProblem();
mathInterval=setInterval(()=>{
mathTimer--;
document.getElementById('math-timer').textContent=mathTimer;
if(mathTimer<=0){
endMathGame();
}
},1000);
playSound('click');
}

function generateMathProblem(){
const a=Math.floor(Math.random()*25)+1;
const b=Math.floor(Math.random()*25)+1;
const operations=['+','-','*'];
const op=operations[Math.floor(Math.random()*operations.length)];
currentMathProblem={a,b,op};
let answer;
switch(op){
case '+':answer=a+b;break;
case '-':answer=a-b;break;
case '*':answer=a*b;break;
}
currentMathProblem.answer=answer;
document.getElementById('math-problem').textContent=`${a} ${op} ${b} = ?`;
document.getElementById('math-answer').value='';
document.getElementById('math-answer').focus();
}

function checkMathAnswer(){
const userAnswer=parseInt(document.getElementById('math-answer').value);
if(userAnswer===currentMathProblem.answer){
mathScore+=15+mathCombo*5;
mathCombo++;
gameStats.streak++;
document.getElementById('math-score').textContent=mathScore;
document.getElementById('math-combo').textContent=mathCombo;
generateMathProblem();
playSound('success');
if(mathScore>gameStats.bestScore){
gameStats.bestScore=mathScore;
gameStats.currentIQ+=2;
}
if(mathCombo>=10)showAchievement('Math Wizard');
saveData();
}else{
mathCombo=0;
document.getElementById('math-combo').textContent=mathCombo;
}
}

function endMathGame(){
clearInterval(mathInterval);
gameStats.totalGames++;
if(mathScore>=200)showAchievement('Calculator Crusher');
saveData();
}

let reactionTimeout,reactionActive=false;
function startReactionTest(){
const circle=document.getElementById('reaction-circle');
circle.className='reaction-circle waiting';
circle.textContent='WAIT...';
document.getElementById('reaction-status').textContent='Wait for GREEN';
reactionActive=false;
const delay=Math.random()*4000+2000;
reactionTimeout=setTimeout(()=>{
circle.className='reaction-circle ready';
circle.textContent='CLICK NOW!';
document.getElementById('reaction-status').textContent='CLICK NOW!';
reactionStartTime=Date.now();
reactionActive=true;
},delay);
playSound('click');
}

function handleReactionClick(){
if(reactionActive){
const reactionTime=Date.now()-reactionStartTime;
reactionAttempts++;
document.getElementById('reaction-attempts').textContent=reactionAttempts;
if(reactionTime<reactionBest){
reactionBest=reactionTime;
document.getElementById('reaction-best').textContent=reactionBest;
gameStats.currentIQ+=1;
gameStats.streak++;
}
document.getElementById('reaction-status').textContent=`Reaction: ${reactionTime}ms - ${reactionTime<300?"Lightning!":reactionTime<500?"Fast!":"Good!"}`;
playSound('success');
gameStats.totalGames++;
if(reactionBest<250)showAchievement('Reflex Royalty');
saveData();
}else{
document.getElementById('reaction-status').textContent='Too early! Wait for GREEN';
clearTimeout(reactionTimeout);
gameStats.streak=0;
saveData();
}
}

function checkPattern(answer){
if(answer===4){
patternScore+=20;
patternLevel++;
gameStats.streak++;
document.getElementById('pattern-score').textContent=patternScore;
document.getElementById('pattern-level').textContent=patternLevel;
gameStats.currentIQ+=2;
playSound('success');
if(patternScore>gameStats.bestScore){
gameStats.bestScore=patternScore;
}
if(patternLevel>=5)showAchievement('Pattern Pro');
saveData();
setTimeout(()=>{
document.getElementById('pattern-display').innerHTML='<div>Excellent! Next pattern loading...</div>';
},1000);
}else{
document.getElementById('pattern-display').innerHTML='<div>Not quite! The answer was 4. Try again!</div>';
gameStats.totalGames++;
gameStats.streak=0;
saveData();
}
}

document.body.className=themes[currentTheme];
updateStats();
if(gameStats.totalGames===0)showAchievement('Brain Rookie');

setInterval(()=>{
if(gameStats.streak>=10&&!unlockedAchievements.includes('Streak Master')){
showAchievement('Streak Master');
}
if(gameStats.currentIQ>=150&&!unlockedAchievements.includes('IQ Elite')){
showAchievement('IQ Elite');
}
},1000);
</script>
</body>
</html>